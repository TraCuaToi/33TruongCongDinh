rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    // Ai cũng đọc & ghi menu (không cần đăng nhập)
    match /menu/{docId} {
      allow read, write: if true;
    }

    // Ai cũng đọc & ghi orders (giữ như cũ nếu bạn đang mở)
    match /orders/{docId} {
      allow read, write: if true;
    }
   // Cho phép mọi người dùng đã đăng nhập có thể đọc/ghi vào bộ sưu tập 'notes'
    match /notes/{noteId} {
      allow read, write: if true;
    }
        // Quy tắc cho cấu hình (config): chỉ admin mới được ghi
    match /config/{docId} {
      allow read: if true; // Mọi người đều có thể đọc
      // Chỉ cho phép admin ghi (đổi tên/địa chỉ)
      allow write: if request.auth != null && request.auth.token.email == "admin@myapp.com";
    }
    // Các collection khác chỉ đọc (tuỳ bạn)
    match /{document=**} {
      allow read: if true;
    }
  }
}
